import{r as s,u as f,a as v,j as e,g as F,l as h,d as p,C as j,L as g}from"./index-3cff6f65.js";const k="_favoriteConteiner_13v2q_1",C="_titleBlock_13v2q_6",P="_title_13v2q_6",N="_titleCounter_13v2q_19",S="_countProd_13v2q_24",w="_conteinterProducts_13v2q_35",E="_emptyFavoriteWindow_13v2q_40",r={favoriteConteiner:k,titleBlock:C,title:P,titleCounter:N,countProd:S,conteinterProducts:w,emptyFavoriteWindow:E},L="_favFilter_i1xg1_1",q="_titleFilter_i1xg1_8",W="_dropListFilter_i1xg1_15",y="_active_i1xg1_33",A="_textFilter_i1xg1_37",l={favFilter:L,titleFilter:q,dropListFilter:W,active:y,textFilter:A};function B(i){const[n,t]=s.useState(i),o=s.useRef(null),c=a=>{a.target.contains(o.current)?t(!1):t(!0)};return s.useEffect(()=>(document.addEventListener("click",c),()=>{document.removeEventListener("click",c)})),[n,o,t]}const I=s.memo(()=>{const i=f(),n=v(x=>x.favoriteProd.allFavAdded),[t,o]=s.useState(""),[c,a]=B(!1),[d,u]=s.useState(!1),_=()=>{i(F()),o("возрастанию цены")},m=()=>{i(h()),o("убыванию цены")};return e.jsx(s.Fragment,{children:n.length>0?e.jsxs("div",{onClick:()=>u(!d),ref:a,className:l.favFilter,children:[e.jsxs("span",{className:l.titleFilter,children:["Отсортировать по",e.jsxs("span",{className:l.textFilter,children:[" : ",t]})]}),c&&d&&e.jsxs("div",{className:l.dropListFilter,children:[e.jsx("span",{onClick:_,children:"Возрастанию цены"}),e.jsx("span",{onClick:m,children:"Убыванию цены"})]})]}):""})}),T=()=>{const i=v(t=>t.favoriteProd.allFavAdded);p("Избранное - beauté");const n=s.useMemo(()=>()=>{let t=i.length;return t.toString().at(-1)=="0"?"товаров":t.toString().at(-1)=="1"&&t!=11?"товар":t>1&&t<5?"товара":t>=5&&t<=19?"товаров":["2","3","4"].includes(t.toString().at(-1))?"товара":"товаров"},[i]);return e.jsxs("div",{className:r.favoriteConteiner,children:[e.jsx("div",{className:r.titleBlock,children:e.jsxs("div",{className:r.title,children:[e.jsxs("div",{className:r.titleCounter,children:[e.jsx("h1",{children:"Мои избранные"}),e.jsx("div",{className:r.countProd,children:e.jsxs("p",{children:[i.length," ",n(),' в категории "Избранное"']})})]}),e.jsx(I,{})]})}),e.jsx("div",{className:r.conteinterProducts,children:i.length>0?i.map(t=>e.jsx(j,{id:t.id,flag:"favorite",position:"favorite",img:t.img,color:t.color,name:t.name,cost:t.cost,size:t.size,link:t.link,description:t.description},t.name)):e.jsx("div",{className:r.emptyFavoriteWindow,children:e.jsxs("span",{children:["Ваша коллекция избранного пуста. ",e.jsx(g,{to:"/",children:"На главную"})]})})})]})};export{T as default};
